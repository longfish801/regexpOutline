# regexpOutline README

## 機能

見出しのフォーマットを正規表現で指定することでアウトラインを生成します。

* 以下のケースで利用することを想定しています。
    - プレーンテキストであってもアウトラインを生成したい場合。
    - 独自の仕様といった事情でアウトラインを生成する拡張機能がない場合。
* ファイルの拡張子毎に見出しのルールを指定します。
* 見出しのフォーマットは正規表現で指定します。  
  見出しとして表示する箇所はグループで指定できます。
* ファイルの先頭と終端にも見出しを生成します。
* 単一行の見出しを想定しています。  
  複雑な構文には対応していません。

## 拡張機能の設定

設定項目「拡張子毎の見出しルール」を設定してください。  
デフォルトのままでは動作しません。

たとえば以下の見出しを作成したいとします。  
レベル1はHTMLのH1タグ（最上位の見出し）に相当します。

* ファイル拡張子が ".txt"のファイルを対象としたい。
* 行頭が「■」始まりならばレベル1の見出し。
* 行頭が「□」始まりならばレベル2の見出し。
* 行頭が「▼」始まりならばレベル3の見出し。
* 行頭記号より後の文字列を見出しの文字列にする。

以下のようにJSON形式で見出しのルールを作成してください。  

```
[
    {
        "ext": ".txt",
        "rules": [
            {
                "level": 1,
                "format": "^■(.+)$",
                "nameIdx": 1,
                "detail": "H1"
            },
            {
                "level": 2,
                "format": "^□(.+)$",
                "nameIdx": 1,
                "detail": "H2"
            },
            {
                "level": 3,
                "format": "^▼(.+)$",
                "nameIdx": 1,
                "detail": "H3"
            }
        ]
    }
]
```

これを改行コードやインデントを取り除いて一行に圧縮した文字列を設定項目「拡張子毎の見出しルール」に設定してください。

```
[{"ext":".txt","rules":[{"level":1,"format":"^■(.+)$","nameIdx":1,"detail":"H1"},{"level":2,"format":"^□(.+)$","nameIdx":1,"detail":"H2"},{"level":3,"format":"^▼(.+)$","nameIdx":1,"detail":"H3"}]}]
```

各キーの意味は以下のとおりです。
すべて必須です。

* ext
  - ファイルの拡張子  
    ここに指定した値がファイル名と終端一致したならば対象とみなします。
* rules / level
  - 見出しのレベルです。
* rules / format
  - 見出しのフォーマットです。  
    正規表現で指定してください。
* rules / nameIdx
  - 見出し文字列として表示するグループの番号です。  
    なお 0を指定した場合は formatで一致した全体が見出し文字列になります。
* rules / detail
  - 見出しに詳細として表示する文字列です。
